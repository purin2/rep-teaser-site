<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rep - 経営者のための最高のコミュニティ</title>

  <!-- OGP -->
  <meta property="og:title" content="Rep - 経営者のための最高のコミュニティ">
  <meta property="og:description" content="完全招待制・本人確認必須。経営者だけが集まるクローズドSNS。">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://rep.garoinc.jp">
  <meta property="og:image" content="https://rep.garoinc.jp/ogp.png">
  <meta name="twitter:card" content="summary_large_image">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500&family=Noto+Sans+JP:wght@300;400;500;600;700&family=Noto+Serif+JP:wght@200;300;400;500&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">

  <style>
    :root {
      --brand: #CCFF33;
      --bg: #000000;
      --text: #ffffff;
      --text-muted: rgba(255, 255, 255, 0.5);
      --yellow: #FFF442;
      --lime: #CCFF33;
    }

    /* ========================================
       Splash Screen
    ======================================== */
    .splash-screen {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    .splash-wrap {
      will-change: opacity, transform;
    }

    .splash-screen svg {
      width: min(70vw, 380px);
      height: auto;
      overflow: visible;
    }

    .splash-screen .basePath {
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .splash-screen .lightTrail {
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .splash-screen .lightPoint {
      display: none;
    }

    .splash-screen .splash-fill {
      opacity: 0;
    }

    .splash-screen.flash-on .splash-fill {
      animation: splashFillReveal 1.8s ease-out forwards;
    }

    @keyframes splashFillReveal {
      0% { opacity: 0; filter: blur(4px); }
      60% { opacity: 0.4; filter: blur(2px); }
      100% { opacity: 1; filter: blur(0); }
    }

    /* 発光エフェクト */
    .splash-screen.glow-out .splash-wrap {
      animation: splashGlowOut 2s ease-out forwards;
    }

    @keyframes splashGlowOut {
      0% {
        filter: none;
        transform: scale(1);
        opacity: 1;
      }
      20% {
        filter: brightness(1.8)
                drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))
                drop-shadow(0 0 40px rgba(204, 255, 51, 0.7))
                drop-shadow(0 0 70px rgba(204, 255, 51, 0.4));
        transform: scale(1.03);
        opacity: 1;
      }
      50% {
        filter: brightness(2.2)
                drop-shadow(0 0 25px rgba(255, 255, 255, 0.9))
                drop-shadow(0 0 60px rgba(204, 255, 51, 0.6))
                drop-shadow(0 0 100px rgba(204, 255, 51, 0.3));
        transform: scale(1.05);
        opacity: 1;
      }
      100% {
        filter: brightness(2.2)
                drop-shadow(0 0 25px rgba(255, 255, 255, 0.9))
                drop-shadow(0 0 60px rgba(204, 255, 51, 0.6))
                drop-shadow(0 0 100px rgba(204, 255, 51, 0.3));
        transform: scale(1.05);
        opacity: 0;
      }
    }

    .splash-screen.fade-out {
      animation: splashFadeOut 0.5s ease-out forwards;
    }

    @keyframes splashFadeOut {
      to { opacity: 0; }
    }

    /* Main content hidden initially */
    .main-content {
      opacity: 0;
      visibility: hidden;
    }

    .main-content.visible {
      opacity: 1;
      visibility: visible;
      animation: mainContentReveal 1s ease-out forwards;
    }

    @keyframes mainContentReveal {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-snap-type: y mandatory;
    }

    body {
      font-family: 'Noto Sans JP', sans-serif;
      font-weight: 500;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }

    /* Starfield Background */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      background:
        radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 40% 70%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1.5px 1.5px at 50% 20%, rgba(255,255,255,0.7) 0%, transparent 100%),
        radial-gradient(1px 1px at 60% 50%, rgba(255,255,255,0.3) 0%, transparent 100%),
        radial-gradient(1px 1px at 70% 80%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 80% 10%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 10% 60%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 30% 90%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1.5px 1.5px at 90% 40%, rgba(255,255,255,0.6) 0%, transparent 100%),
        radial-gradient(1px 1px at 15% 85%, rgba(255,255,255,0.3) 0%, transparent 100%),
        radial-gradient(2px 2px at 25% 15%, rgba(255,255,255,0.8) 0%, transparent 100%),
        radial-gradient(1.5px 1.5px at 75% 65%, rgba(255,255,255,0.6) 0%, transparent 100%),
        radial-gradient(1px 1px at 85% 25%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 5% 45%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 95% 75%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 35% 55%, rgba(255,255,255,0.3) 0%, transparent 100%),
        radial-gradient(2px 2px at 55% 35%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 65% 95%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 45% 5%, rgba(255,255,255,0.6) 0%, transparent 100%),
        radial-gradient(1px 1px at 12% 22%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 88% 58%, rgba(255,255,255,0.5) 0%, transparent 100%),
        radial-gradient(1px 1px at 42% 82%, rgba(255,255,255,0.3) 0%, transparent 100%),
        radial-gradient(1.5px 1.5px at 68% 12%, rgba(255,255,255,0.6) 0%, transparent 100%),
        radial-gradient(1px 1px at 22% 48%, rgba(255,255,255,0.4) 0%, transparent 100%),
        radial-gradient(1px 1px at 78% 88%, rgba(255,255,255,0.5) 0%, transparent 100%);
    }

    /* Ambient glow effect */
    .section-teaser::before {
      content: '';
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      width: 80vw;
      height: 40vh;
      background: radial-gradient(ellipse at center, rgba(204, 255, 51, 0.05) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0;
    }

    /* ========================================
       Section 1: Teaser
    ======================================== */
    .section-teaser {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      scroll-snap-align: start;
      overflow: hidden;
    }

    .teaser-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 5vh 6vw 20vh;
      position: relative;
      z-index: 2;
    }

    /* Logo */
    .logo {
      margin-bottom: 4vh;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.2s forwards;
    }

    .logo svg {
      height: clamp(48px, 8vw, 72px);
      width: auto;
    }

    /* Badge */
    .badge {
      display: inline-block;
      padding: clamp(16px, 2vw, 26px) clamp(44px, 6vw, 80px);
      border: 1.5px solid rgba(204, 255, 51, 0.5);
      font-size: clamp(18px, 2.2vw, 26px);
      font-weight: 700;
      color: var(--brand);
      letter-spacing: 0.35em;
      margin-bottom: 4vh;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.35s forwards;
      text-shadow: 0 0 20px rgba(204, 255, 51, 0.4);
    }

    /* Counter */
    .counter {
      display: flex;
      align-items: baseline;
      justify-content: center;
      gap: clamp(16px, 3vw, 40px);
      margin-bottom: 6vh;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.5s forwards;
      position: relative;
    }

    .counter::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: clamp(300px, 60vw, 700px);
      height: clamp(150px, 25vw, 300px);
      background: radial-gradient(ellipse at center, rgba(204, 255, 51, 0.12) 0%, transparent 70%);
      pointer-events: none;
      z-index: -1;
      filter: blur(20px);
    }

    .counter-prefix,
    .counter-suffix {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(18px, 2.5vw, 32px);
      font-weight: 700;
      color: rgba(255, 255, 255, 0.85);
      letter-spacing: 0.5em;
      text-shadow: 0 0 20px rgba(204, 255, 51, 0.2);
    }

    .counter-number-wrapper {
      position: relative;
      display: inline-block;
    }

    .counter-number {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(80px, 18vw, 220px);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      position: relative;
      display: inline-block;
      /* Transparent inside */
      color: transparent;
      -webkit-text-fill-color: transparent;
      /* Glass outline - gradient */
      -webkit-text-stroke: 2.5px rgba(204, 255, 51, 0.45);
      filter: drop-shadow(0 0 20px rgba(204, 255, 51, 0.25));
    }

    /* Bright top edge highlight */
    .counter-number::before {
      content: attr(data-number);
      position: absolute;
      top: 0;
      left: 0;
      font-family: inherit;
      font-size: inherit;
      font-weight: inherit;
      letter-spacing: inherit;
      line-height: inherit;
      color: transparent;
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 2.5px transparent;
      background: linear-gradient(
        175deg,
        rgba(255, 255, 255, 0.95) 0%,
        rgba(240, 255, 200, 0.7) 5%,
        rgba(204, 255, 51, 0.4) 15%,
        transparent 30%,
        transparent 100%
      );
      -webkit-background-clip: text;
      background-clip: text;
      z-index: 2;
    }

    /* Bottom edge and inner reflection */
    .counter-number::after {
      content: attr(data-number);
      position: absolute;
      top: 0;
      left: 0;
      font-family: inherit;
      font-size: inherit;
      font-weight: inherit;
      letter-spacing: inherit;
      line-height: inherit;
      color: transparent;
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 2.5px transparent;
      background: linear-gradient(
        180deg,
        transparent 0%,
        transparent 60%,
        rgba(120, 160, 40, 0.35) 75%,
        rgba(160, 200, 50, 0.5) 90%,
        rgba(180, 220, 60, 0.6) 100%
      );
      -webkit-background-clip: text;
      background-clip: text;
      z-index: 1;
    }

    /* Deep shadow - far back */
    .counter-number-wrapper::before {
      content: attr(data-number);
      position: absolute;
      top: 6px;
      left: 5px;
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(80px, 18vw, 220px);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1;
      color: transparent;
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 2px rgba(80, 100, 20, 0.2);
      z-index: -2;
      filter: blur(6px);
    }

    /* Mid shadow */
    .counter-number-wrapper::after {
      content: attr(data-number);
      position: absolute;
      top: 3px;
      left: 2px;
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(80px, 18vw, 220px);
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1;
      color: transparent;
      -webkit-text-fill-color: transparent;
      -webkit-text-stroke: 1.5px rgba(204, 255, 51, 0.12);
      z-index: -1;
      filter: blur(3px);
    }

    /* Email Form */
    .form-wrapper {
      width: 100%;
      max-width: 480px;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.65s forwards;
    }

    .email-form {
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(204, 255, 51, 0.3);
      border-radius: 980px;
      padding: 6px;
      box-shadow:
        0 0 15px rgba(204, 255, 51, 0.15),
        0 0 30px rgba(204, 255, 51, 0.08),
        inset 0 0 10px rgba(204, 255, 51, 0.05);
      transition: all 0.3s ease;
    }

    .email-form:focus-within {
      border-color: rgba(204, 255, 51, 0.5);
      background: rgba(255, 255, 255, 0.12);
      box-shadow:
        0 0 20px rgba(204, 255, 51, 0.25),
        0 0 40px rgba(204, 255, 51, 0.15),
        inset 0 0 15px rgba(204, 255, 51, 0.08);
    }

    .email-input {
      flex: 1;
      min-width: 0;
      background: transparent;
      border: none;
      padding: 16px 20px;
      color: var(--text);
      font-size: 15px;
      font-weight: 500;
      font-family: inherit;
      outline: none;
      letter-spacing: 0.02em;
    }

    .email-input::placeholder {
      color: rgba(255, 255, 255, 0.4);
      font-weight: 400;
    }

    .email-submit {
      padding: 16px 36px;
      background: var(--brand);
      border: none;
      border-radius: 980px;
      color: #000;
      font-size: 16px;
      font-weight: 700;
      font-family: inherit;
      cursor: pointer;
      white-space: nowrap;
      letter-spacing: 0.03em;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px rgba(204, 255, 51, 0.3);
    }

    .email-submit:hover {
      background: #d9ff4d;
      transform: scale(1.02);
      box-shadow: 0 0 30px rgba(204, 255, 51, 0.5);
    }

    .form-note {
      margin-top: clamp(16px, 2vw, 24px);
      font-size: clamp(13px, 1.3vw, 16px);
      font-weight: 600;
      color: rgba(255, 255, 255, 0.7);
      letter-spacing: 0.03em;
    }

    .form-note .highlight {
      color: var(--brand);
      font-weight: 700;
    }

    .form-error {
      margin-top: 12px;
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 0.01em;
      color: #ff6b6b;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .form-error.visible {
      opacity: 1;
    }

    /* Scroll Indicator */
    .scroll-indicator {
      position: absolute;
      bottom: 8vh;
      left: 0;
      right: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 1s forwards;
      cursor: pointer;
      z-index: 10;
    }

    .scroll-text {
      font-size: clamp(14px, 1.4vw, 17px);
      font-weight: 600;
      color: rgba(255, 255, 255, 0.9);
      letter-spacing: 0.05em;
      margin-bottom: 12px;
    }

    .scroll-hint {
      font-size: clamp(10px, 1vw, 12px);
      font-weight: 500;
      color: rgba(255, 255, 255, 0.5);
      letter-spacing: 0.15em;
      text-transform: uppercase;
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(6px); }
    }

    /* Arc wrapper for positioning */
    .arc-wrapper {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      /* Responsive arc size based on viewport */
      --arc-size: max(1600px, 130vw);
      width: var(--arc-size);
      height: var(--arc-size);
      margin-bottom: calc(-1 * var(--arc-size) + 22vh);
      pointer-events: none;
      z-index: 1;
      overflow: visible;
    }

    /* Base arc - dim, always visible */
    .arc-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 2px solid rgba(204, 255, 51, 0.2);
      background: transparent;
    }

    /* Bright core line */
    .arc-glow {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 3px solid var(--brand);
      background: transparent;
      -webkit-mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(125deg + var(--glow-angle, -55deg)),
        black calc(145deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(200deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
      mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(125deg + var(--glow-angle, -55deg)),
        black calc(145deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(200deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
    }

    /* Glow layer 1 - soft blur */
    .arc-glow-trail {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 6px solid var(--brand);
      background: transparent;
      filter: blur(8px);
      opacity: 0.9;
      -webkit-mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(120deg + var(--glow-angle, -55deg)),
        black calc(150deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(210deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
      mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(120deg + var(--glow-angle, -55deg)),
        black calc(150deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(210deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
    }

    /* Glow layer 2 - medium blur */
    .arc-glow-outer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 12px solid var(--brand);
      background: transparent;
      filter: blur(25px);
      opacity: 0.7;
      -webkit-mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(115deg + var(--glow-angle, -55deg)),
        black calc(155deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(215deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
      mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(115deg + var(--glow-angle, -55deg)),
        black calc(155deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(215deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
    }

    /* Glow layer 3 - wide diffuse */
    .arc-glow-wide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 30px solid rgba(204, 255, 51, 0.5);
      background: transparent;
      filter: blur(60px);
      opacity: 0.8;
      -webkit-mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(110deg + var(--glow-angle, -55deg)),
        black calc(160deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(220deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
      mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(110deg + var(--glow-angle, -55deg)),
        black calc(160deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(220deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
    }

    /* Glow layer 4 - atmospheric haze */
    .arc-glow-haze {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 50px solid rgba(204, 255, 51, 0.35);
      background: transparent;
      filter: blur(100px);
      opacity: 0.7;
      -webkit-mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(100deg + var(--glow-angle, -55deg)),
        black calc(165deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(225deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
      mask-image: conic-gradient(from -90deg at 50% 50%,
        transparent 0deg,
        transparent calc(100deg + var(--glow-angle, -55deg)),
        black calc(165deg + var(--glow-angle, -55deg)),
        black calc(180deg + var(--glow-angle, -55deg)),
        transparent calc(225deg + var(--glow-angle, -55deg)),
        transparent 360deg
      );
    }

    /* Star flare on arc */
    .arc-star {
      position: fixed;
      width: 100px;
      height: 100px;
      pointer-events: none;
      z-index: 100;
      /* Will be positioned by JavaScript */
      transform: translate(-50%, -50%);
    }

    /* Bright core - small white center */
    .arc-star .core {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #fff;
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow:
        0 0 4px 2px #fff,
        0 0 12px 4px rgba(255, 255, 255, 0.8),
        0 0 25px 8px rgba(204, 255, 51, 0.6),
        0 0 50px 15px rgba(204, 255, 51, 0.3);
    }

    /* Main elongated glow along arc */
    .arc-star .glow {
      position: absolute;
      width: 150px;
      height: 30px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: radial-gradient(ellipse 50% 50% at center,
        rgba(255, 255, 255, 0.9) 0%,
        rgba(230, 255, 150, 0.6) 20%,
        rgba(204, 255, 51, 0.3) 50%,
        transparent 100%
      );
      border-radius: 50%;
      filter: blur(3px);
    }

    /* Wider soft outer glow */
    .arc-star .ray1 {
      position: absolute;
      width: 200px;
      height: 50px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: radial-gradient(ellipse 50% 50% at center,
        rgba(204, 255, 51, 0.3) 0%,
        rgba(204, 255, 51, 0.1) 40%,
        transparent 100%
      );
      border-radius: 50%;
      filter: blur(10px);
    }

    /* ========================================
       Section 2: LP
    ======================================== */
    .section-lp {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      position: relative;
      scroll-snap-align: start;
      overflow: hidden;
      padding: 5vh 0 15vh;
      background: #000;
    }

    .lp-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 clamp(24px, 5vw, 80px);
      position: relative;
      z-index: 2;
    }

    .lp-left {
      width: 100%;
      max-width: 600px;
      margin-bottom: clamp(16px, 3vh, 32px);
    }

    .lp-headline {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(18px, 2.5vw, 32px);
      font-weight: 600;
      line-height: 1.5;
      margin-bottom: clamp(8px, 1.5vh, 16px);
      letter-spacing: 0.02em;
      color: rgba(255, 255, 255, 0.9);
    }

    .lp-headline .quote {
      color: var(--brand);
      font-weight: 700;
    }

    .lp-subhead {
      font-family: 'Noto Sans JP', sans-serif;
      font-size: clamp(32px, 6vw, 64px);
      font-weight: 700;
      color: #fff;
      margin-bottom: clamp(24px, 3.5vh, 40px);
      letter-spacing: -0.02em;
      text-shadow: 0 0 40px rgba(255, 255, 255, 0.1);
    }

    .lp-form {
      width: 100%;
      max-width: min(420px, 75vw);
      margin: 0 auto;
    }

    .lp-right {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .app-mockups {
      width: 100%;
      max-width: clamp(280px, 45vw, 450px);
      background: transparent;
      position: relative;
    }

    .app-mockups::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 120%;
      height: 120%;
      background: radial-gradient(ellipse at center, rgba(204, 255, 51, 0.15) 0%, transparent 60%);
      pointer-events: none;
      z-index: -1;
      filter: blur(30px);
    }

    .app-mockups img {
      width: 100%;
      height: auto;
      display: block;
      background: transparent;
      filter: drop-shadow(0 0 30px rgba(204, 255, 51, 0.2)) drop-shadow(0 20px 40px rgba(0, 0, 0, 0.5));
    }

    /* ========================================
       Footer
    ======================================== */
    .footer {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 24px;
      text-align: center;
      z-index: 10;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: clamp(24px, 4vw, 48px);
      margin-bottom: 12px;
    }

    .footer-link {
      font-size: clamp(11px, 1vw, 13px);
      font-weight: 500;
      color: rgba(255, 255, 255, 0.5);
      text-decoration: none;
      letter-spacing: 0.01em;
      transition: color 0.3s;
    }

    .footer-link:hover {
      color: rgba(255, 255, 255, 0.9);
    }

    .copyright {
      font-size: clamp(10px, 0.9vw, 12px);
      font-weight: 400;
      color: rgba(255, 255, 255, 0.4);
      letter-spacing: 0.01em;
    }

    /* ========================================
       Animations
    ======================================== */
    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(24px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes arcReveal {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Scroll-triggered animations */
    .reveal {
      opacity: 0;
      visibility: hidden;
      transform: translateY(40px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out, visibility 0.8s;
    }

    .reveal.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .reveal-delay-1 { transition-delay: 0.1s; }
    .reveal-delay-2 { transition-delay: 0.2s; }
    .reveal-delay-3 { transition-delay: 0.3s; }
    .reveal-delay-4 { transition-delay: 0.4s; }

    /* ========================================
       Questionnaire & Thank You (hidden initially)
    ======================================== */
    .questionnaire,
    .thank-you {
      display: none;
      width: 100%;
      max-width: min(400px, 85vw);
      text-align: center;
    }

    .questionnaire.visible,
    .thank-you.visible {
      display: block;
    }

    .questionnaire-title {
      font-size: clamp(18px, 2vw, 24px);
      font-weight: 700;
      letter-spacing: -0.01em;
      margin-bottom: 12px;
    }

    .questionnaire-desc {
      font-size: clamp(12px, 1.3vw, 14px);
      font-weight: 400;
      color: rgba(255, 255, 255, 0.6);
      letter-spacing: 0.01em;
      margin-bottom: 32px;
    }

    .questionnaire-form {
      display: flex;
      flex-direction: column;
      gap: 16px;
      text-align: left;
    }

    .field-label {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.05em;
      color: rgba(255,255,255,0.7);
      margin-bottom: 8px;
    }

    .field-input {
      width: 100%;
      padding: 14px 16px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px;
      color: var(--text);
      font-size: 15px;
      font-weight: 500;
      font-family: inherit;
      letter-spacing: 0.01em;
    }

    .field-input:focus {
      outline: none;
      border-color: rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.1);
    }

    .questionnaire-submit {
      width: 100%;
      padding: 16px;
      margin-top: 12px;
      background: var(--brand);
      border: none;
      border-radius: 12px;
      color: #000;
      font-size: 15px;
      font-weight: 700;
      letter-spacing: 0.01em;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 20px rgba(204, 255, 51, 0.3);
    }

    .questionnaire-submit:hover {
      background: #d9ff4d;
      transform: scale(1.01);
      box-shadow: 0 0 30px rgba(204, 255, 51, 0.5);
    }

    .questionnaire-skip {
      margin-top: 20px;
      font-size: 13px;
      font-weight: 500;
      color: rgba(255,255,255,0.5);
      background: none;
      border: none;
      cursor: pointer;
      letter-spacing: 0.01em;
      transition: color 0.2s;
    }

    .questionnaire-skip:hover {
      color: rgba(255,255,255,0.8);
    }

    .thank-you-icon {
      width: 56px;
      height: 56px;
      margin: 0 auto 24px;
      border-radius: 50%;
      background: var(--brand);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #000;
      box-shadow: 0 0 30px rgba(204, 255, 51, 0.4);
    }

    .thank-you-title {
      font-size: clamp(20px, 2.2vw, 28px);
      font-weight: 700;
      letter-spacing: -0.01em;
      margin-bottom: 12px;
    }

    .thank-you-message {
      font-size: clamp(14px, 1.4vw, 16px);
      font-weight: 400;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.8;
      letter-spacing: 0.01em;
    }

    /* ========================================
       Mobile Adjustments
    ======================================== */
    @media (max-width: 768px) {
      .teaser-content {
        padding: 6vh 5vw 22vh;
      }

      .logo {
        margin-bottom: 3.5vh;
      }

      .logo svg {
        height: 56px;
      }

      .badge {
        padding: 14px 36px;
        font-size: 17px;
        letter-spacing: 0.25em;
      }

      .counter {
        gap: 14px;
        margin-bottom: 4vh;
      }

      .counter-prefix,
      .counter-suffix {
        font-size: 18px;
        font-weight: 700;
        letter-spacing: 0.35em;
      }

      .counter-number {
        font-size: 90px;
      }

      .form-wrapper {
        max-width: 94%;
        padding: 0 3%;
      }

      .email-form {
        border-radius: 8px;
        padding: 5px;
      }

      .email-input {
        padding: 14px 16px;
        font-size: 15px;
      }

      .email-submit {
        padding: 14px 24px;
        font-size: 15px;
        font-weight: 700;
        border-radius: 6px;
      }

      .form-note {
        font-size: 13px;
        margin-top: 14px;
      }

      .scroll-indicator {
        bottom: 4vh;
      }

      .scroll-text {
        font-size: 15px;
      }

      .scroll-hint {
        font-size: 10px;
      }

      .arc-wrapper {
        --arc-size: max(1200px, 180vw);
        width: var(--arc-size);
        height: var(--arc-size);
        margin-bottom: calc(-1 * var(--arc-size) + 18vh);
      }

      .arc-star {
        width: 70px;
        height: 70px;
      }

      .arc-star .core {
        width: 6px;
        height: 6px;
      }

      .arc-star .glow {
        width: 100px;
        height: 22px;
      }

      .arc-star .ray1 {
        width: 140px;
        height: 35px;
      }

      /* Reduce glow intensity on mobile for performance */
      .arc-glow-trail {
        border-width: 4px;
        filter: blur(6px);
      }

      .arc-glow-outer {
        border-width: 8px;
        filter: blur(15px);
      }

      .arc-glow-wide {
        border-width: 15px;
        filter: blur(30px);
      }

      .arc-glow-haze {
        border-width: 25px;
        filter: blur(50px);
      }

      /* LP Section Mobile */
      .section-lp {
        padding: 8vh 0 12vh;
      }

      .lp-content {
        padding: 0 6vw;
      }

      .lp-left {
        margin-bottom: 24px;
      }

      .lp-headline {
        font-size: 18px;
        margin-bottom: 8px;
      }

      .lp-subhead {
        font-size: 28px;
        margin-bottom: 20px;
      }

      .lp-form {
        max-width: 90vw;
      }

      .app-mockups {
        max-width: 80vw;
      }

      .footer {
        padding: 16px;
      }

      .footer-links {
        gap: 16px;
        flex-wrap: wrap;
      }

      .footer-link {
        font-size: 10px;
      }

      .copyright {
        font-size: 9px;
      }
    }

    @media (max-width: 480px) {
      .teaser-content {
        padding: 5vh 4vw 26vh;
      }

      .logo {
        margin-bottom: 3vh;
      }

      .logo svg {
        height: 52px;
      }

      .badge {
        padding: 12px 32px;
        font-size: 16px;
        letter-spacing: 0.2em;
      }

      .counter {
        gap: 10px;
        margin-bottom: 3.5vh;
      }

      .counter-number {
        font-size: 72px;
      }

      .counter-prefix,
      .counter-suffix {
        font-size: 16px;
        font-weight: 700;
        letter-spacing: 0.3em;
      }

      .email-form {
        border-radius: 8px;
        padding: 4px;
      }

      .email-input {
        padding: 12px 14px;
        font-size: 14px;
      }

      .email-submit {
        padding: 12px 20px;
        font-size: 14px;
        font-weight: 700;
        border-radius: 6px;
      }

      .form-note {
        font-size: 12px;
        margin-top: 12px;
      }

      .arc-wrapper {
        --arc-size: max(1000px, 220vw);
        width: var(--arc-size);
        height: var(--arc-size);
        margin-bottom: calc(-1 * var(--arc-size) + 16vh);
      }

      .arc-star {
        width: 60px;
        height: 60px;
      }

      .arc-star .core {
        width: 5px;
        height: 5px;
      }

      .arc-star .glow {
        width: 80px;
        height: 18px;
      }

      .arc-star .ray1 {
        width: 110px;
        height: 28px;
      }

      /* Further reduce glow on small screens */
      .arc-glow-trail {
        border-width: 3px;
        filter: blur(4px);
      }

      .arc-glow-outer {
        border-width: 6px;
        filter: blur(10px);
      }

      .arc-glow-wide {
        border-width: 10px;
        filter: blur(20px);
      }

      .arc-glow-haze {
        border-width: 15px;
        filter: blur(30px);
      }

      .lp-headline {
        font-size: 15px;
      }

      .lp-subhead {
        font-size: 22px;
      }

      .app-mockups {
        max-width: 90vw;
      }
    }

    /* Very small phones */
    @media (max-width: 360px) {
      .logo svg {
        height: 46px;
      }

      .badge {
        padding: 10px 26px;
        font-size: 14px;
        letter-spacing: 0.18em;
      }

      .counter-number {
        font-size: 60px;
      }

      .counter-prefix,
      .counter-suffix {
        font-size: 14px;
        letter-spacing: 0.25em;
      }

      .email-input {
        padding: 10px 12px;
        font-size: 13px;
      }

      .email-submit {
        padding: 10px 16px;
        font-size: 13px;
      }
    }
  </style>
  <!-- Supabase JS Client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <!-- ======== Splash Screen ======== -->
  <div class="splash-screen" id="splashScreen">
    <div class="splash-wrap">
      <svg viewBox="0 0 162 161" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <radialGradient id="splashGlowG" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.9" />
            <stop offset="10%" stop-color="#ffffff" stop-opacity="0.6" />
            <stop offset="25%" stop-color="#E8FF88" stop-opacity="0.4" />
            <stop offset="50%" stop-color="#CCFF33" stop-opacity="0.2" />
            <stop offset="80%" stop-color="#CCFF33" stop-opacity="0.05" />
            <stop offset="100%" stop-color="#CCFF33" stop-opacity="0" />
          </radialGradient>

          <radialGradient id="splashGlowY" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.9" />
            <stop offset="10%" stop-color="#ffffff" stop-opacity="0.6" />
            <stop offset="25%" stop-color="#FFFAA0" stop-opacity="0.4" />
            <stop offset="50%" stop-color="#FFF442" stop-opacity="0.2" />
            <stop offset="80%" stop-color="#FFF442" stop-opacity="0.05" />
            <stop offset="100%" stop-color="#FFF442" stop-opacity="0" />
          </radialGradient>

          <filter id="splashTrailGlow" x="-80%" y="-80%" width="260%" height="260%">
            <feGaussianBlur stdDeviation="1.5" result="g1" />
            <feGaussianBlur stdDeviation="4" result="g2" />
            <feMerge>
              <feMergeNode in="g2" />
              <feMergeNode in="g1" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>

          <filter id="splashPointGlow" x="-300%" y="-300%" width="700%" height="700%">
            <feGaussianBlur stdDeviation="2" result="p1" />
            <feGaussianBlur stdDeviation="6" result="p2" />
            <feGaussianBlur stdDeviation="12" result="p3" />
            <feMerge>
              <feMergeNode in="p3" />
              <feMergeNode in="p2" />
              <feMergeNode in="p1" />
              <feMergeNode in="SourceGraphic" />
            </feMerge>
          </filter>
        </defs>

        <path id="splashPathG"
          d="M98.966 120.606C68.7722 120.606 44.2978 96.2737 44.2978 66.255C44.2978 36.2363 67.3868 13.3009 96.38 11.9564C91.3136 10.8021 86.0362 10.1921 80.6201 10.1921C41.7778 10.1921 10.291 41.4963 10.291 80.1133C10.291 118.73 41.7778 150.028 80.6135 150.028C119.449 150.028 149.148 120.468 150.863 83.3664C143.653 104.997 123.143 120.606 98.9594 120.606Z"
          fill="none" stroke="none" />
        <path id="splashPathY"
          d="M87.527 91.4464C106.315 91.4464 121.547 76.3026 121.547 57.6237C121.547 39.4826 107.179 24.6733 89.1366 23.8404C92.2899 23.1255 95.5751 22.7451 98.9461 22.7451C123.11 22.7451 142.703 42.2241 142.703 66.2483C142.703 90.2724 123.11 109.751 98.9461 109.751C75.4613 109.751 56.2974 91.3611 55.2354 68.2683C59.7212 81.7266 72.4861 91.4398 87.527 91.4398Z"
          fill="none" stroke="none" />

        <path class="basePath"
          d="M98.966 120.606C68.7722 120.606 44.2978 96.2737 44.2978 66.255C44.2978 36.2363 67.3868 13.3009 96.38 11.9564C91.3136 10.8021 86.0362 10.1921 80.6201 10.1921C41.7778 10.1921 10.291 41.4963 10.291 80.1133C10.291 118.73 41.7778 150.028 80.6135 150.028C119.449 150.028 149.148 120.468 150.863 83.3664C143.653 104.997 123.143 120.606 98.9594 120.606Z"
          stroke="var(--lime)" stroke-opacity="0.06" stroke-width="2" />

        <path class="basePath"
          d="M87.527 91.4464C106.315 91.4464 121.547 76.3026 121.547 57.6237C121.547 39.4826 107.179 24.6733 89.1366 23.8404C92.2899 23.1255 95.5751 22.7451 98.9461 22.7451C123.11 22.7451 142.703 42.2241 142.703 66.2483C142.703 90.2724 123.11 109.751 98.9461 109.751C75.4613 109.751 56.2974 91.3611 55.2354 68.2683C59.7212 81.7266 72.4861 91.4398 87.527 91.4398Z"
          stroke="var(--yellow)" stroke-opacity="0.05" stroke-width="1.5" />

        <path id="splashTrailG" class="lightTrail" filter="url(#splashTrailGlow)"
          d="M98.966 120.606C68.7722 120.606 44.2978 96.2737 44.2978 66.255C44.2978 36.2363 67.3868 13.3009 96.38 11.9564C91.3136 10.8021 86.0362 10.1921 80.6201 10.1921C41.7778 10.1921 10.291 41.4963 10.291 80.1133C10.291 118.73 41.7778 150.028 80.6135 150.028C119.449 150.028 149.148 120.468 150.863 83.3664C143.653 104.997 123.143 120.606 98.9594 120.606Z"
          stroke="var(--lime)" stroke-width="1" stroke-opacity="0.5" />

        <path id="splashTrailY" class="lightTrail" filter="url(#splashTrailGlow)"
          d="M87.527 91.4464C106.315 91.4464 121.547 76.3026 121.547 57.6237C121.547 39.4826 107.179 24.6733 89.1366 23.8404C92.2899 23.1255 95.5751 22.7451 98.9461 22.7451C123.11 22.7451 142.703 42.2241 142.703 66.2483C142.703 90.2724 123.11 109.751 98.9461 109.751C75.4613 109.751 56.2974 91.3611 55.2354 68.2683C59.7212 81.7266 72.4861 91.4398 87.527 91.4398Z"
          stroke="var(--yellow)" stroke-width="0.8" stroke-opacity="0.5" />

        <g id="splashPointG" class="lightPoint" filter="url(#splashPointGlow)">
          <circle r="14" fill="url(#splashGlowG)" />
          <circle r="1.8" fill="#ffffff" fill-opacity="0.85" />
        </g>

        <g id="splashPointY" class="lightPoint" filter="url(#splashPointGlow)">
          <circle r="11" fill="url(#splashGlowY)" />
          <circle r="1.5" fill="#ffffff" fill-opacity="0.85" />
        </g>

        <path class="splash-fill"
          d="M87.527 91.4464C106.315 91.4464 121.547 76.3026 121.547 57.6237C121.547 39.4826 107.179 24.6733 89.1366 23.8404C92.2899 23.1255 95.5751 22.7451 98.9461 22.7451C123.11 22.7451 142.703 42.2241 142.703 66.2483C142.703 90.2724 123.11 109.751 98.9461 109.751C75.4613 109.751 56.2974 91.3611 55.2354 68.2683C59.7212 81.7266 72.4861 91.4398 87.527 91.4398Z"
          fill="var(--yellow)" />
        <path class="splash-fill"
          d="M98.966 120.606C68.7722 120.606 44.2978 96.2737 44.2978 66.255C44.2978 36.2363 67.3868 13.3009 96.38 11.9564C91.3136 10.8021 86.0362 10.1921 80.6201 10.1921C41.7778 10.1921 10.291 41.4963 10.291 80.1133C10.291 118.73 41.7778 150.028 80.6135 150.028C119.449 150.028 149.148 120.468 150.863 83.3664C143.653 104.997 123.143 120.606 98.9594 120.606Z"
          fill="var(--lime)" />
      </svg>
    </div>
  </div>

  <!-- ======== Main Content ======== -->
  <div class="main-content" id="mainContent">
  <div class="particles"></div>

  <!-- ======== Section 1: Teaser ======== -->
  <section class="section-teaser">
    <div class="teaser-content">
      <div class="logo">
        <svg viewBox="80 40 420 150" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M173.527 125.333C192.315 125.333 207.547 110.189 207.547 91.5104C207.547 73.3694 193.179 58.5601 175.137 57.7271C178.29 57.0122 181.575 56.6318 184.946 56.6318C209.11 56.6318 228.703 76.1109 228.703 100.135C228.703 124.159 209.11 143.638 184.946 143.638C161.461 143.638 142.297 125.248 141.235 102.155C145.721 115.613 158.486 125.327 173.527 125.327V125.333Z" fill="#FFF442"/>
          <path d="M184.966 154.493C154.772 154.493 130.298 130.16 130.298 100.141C130.298 70.1228 153.387 47.1874 182.38 45.8429C177.314 44.6886 172.036 44.0786 166.62 44.0786C127.778 44.0786 96.291 75.3828 96.291 114C96.291 152.617 127.778 183.914 166.614 183.914C205.449 183.914 235.148 154.355 236.863 117.253C229.653 138.883 209.143 154.493 184.959 154.493H184.966Z" fill="#CCFF33"/>
          <path d="M276.135 69.2114H316.95C328.303 69.2114 337.103 72.5301 342.968 78.6296C347.942 83.8043 350.62 91.104 350.62 99.8597V100.122C350.62 115.115 342.842 124.533 331.489 128.914L353.298 162.088H330.341L311.21 132.364H295.78V162.088H276.141V69.2114H276.135ZM315.67 114.321C325.235 114.321 330.717 109.016 330.717 101.185V100.922C330.717 92.1665 324.853 87.6542 315.287 87.6542H295.774V114.321H315.67Z" fill="white"/>
          <path d="M358.503 129.603V129.373C358.503 111.567 370.701 96.9019 388.156 96.9019C408.184 96.9019 417.36 113.082 417.36 130.77C417.36 132.167 417.248 133.794 417.136 135.427H375.397C377.073 143.455 382.45 147.646 390.056 147.646C395.762 147.646 399.905 145.783 404.602 141.245L414.339 150.204C408.745 157.418 400.69 161.845 389.831 161.845C371.815 161.845 358.503 148.695 358.503 129.603ZM400.802 124.363C399.793 116.446 395.32 111.095 388.156 111.095C380.992 111.095 376.519 116.335 375.173 124.363H400.795H400.802Z" fill="white"/>
          <path d="M430 98.0624H447.007V107.021C451.15 101.204 456.856 96.895 465.696 96.895C479.681 96.895 493 108.3 493 129.137V129.367C493 150.203 479.905 161.609 465.696 161.609C456.632 161.609 451.037 157.3 447.007 152.295V179.068H430V98.0624ZM475.987 129.367V129.137C475.987 118.781 469.271 111.914 461.328 111.914C453.386 111.914 446.782 118.781 446.782 129.137V129.367C446.782 139.723 453.386 146.589 461.328 146.589C469.271 146.589 475.987 139.841 475.987 129.367Z" fill="white"/>
        </svg>
      </div>

      <div class="badge">無料招待枠</div>

      <div class="counter">
        <span class="counter-prefix">あ と</span>
        <span class="counter-number-wrapper" data-number="1000">
          <span class="counter-number" id="remainingCount" data-number="1000">1000</span>
        </span>
        <span class="counter-suffix">名 様</span>
      </div>

      <div class="form-wrapper" id="emailStep">
        <div class="email-form">
          <input type="email" class="email-input" id="emailInput" placeholder="Mail address" autocomplete="email">
          <button type="button" class="email-submit" id="emailSubmit">事前登録</button>
        </div>
        <p class="form-note">登録した方から<span class="highlight">優先的</span>にご案内します</p>
        <p class="form-error" id="formError">有効なメールアドレスを入力してください</p>
      </div>

      <div class="questionnaire" id="questionnaireStep">
        <h2 class="questionnaire-title">あと少しで完了です</h2>
        <p class="questionnaire-desc">より良いサービス提供のため、いくつか質問にお答えください。</p>
        <form class="questionnaire-form" id="questionnaireForm">
          <div><label class="field-label">氏名</label><input type="text" class="field-input" id="nameInput" placeholder="山田 太郎"></div>
          <div><label class="field-label">会社名</label><input type="text" class="field-input" id="companyInput" placeholder="株式会社〇〇"></div>
          <div><label class="field-label">役職</label><input type="text" class="field-input" id="positionInput" placeholder="代表取締役"></div>
          <button type="submit" class="questionnaire-submit">登録を完了する</button>
        </form>
        <button type="button" class="questionnaire-skip" id="skipBtn">スキップして完了</button>
      </div>

      <div class="thank-you" id="thankYouStep">
        <div class="thank-you-icon">✓</div>
        <h3 class="thank-you-title">登録ありがとうございます</h3>
        <p class="thank-you-message">ローンチ時に優先的にご案内いたします。<br>今しばらくお待ちください。</p>
      </div>
    </div>

    <div class="scroll-indicator" onclick="document.querySelector('.section-lp').scrollIntoView({behavior:'smooth'})">
      <p class="scroll-text">What's Rep ?</p>
      <p class="scroll-hint">swipe</p>
    </div>

    <div class="arc-wrapper" id="arcWrapper">
      <div class="arc-container"></div>
      <div class="arc-glow-haze" id="arcGlowHaze"></div>
      <div class="arc-glow-wide" id="arcGlowWide"></div>
      <div class="arc-glow-outer" id="arcGlowOuter"></div>
      <div class="arc-glow-trail" id="arcGlowTrail"></div>
      <div class="arc-glow" id="arcGlow"></div>
    </div>

    <!-- Star flare on arc -->
    <div class="arc-star" id="arcStar">
      <span class="glow"></span>
      <span class="ray1"></span>
      <span class="core"></span>
    </div>
  </section>

  <!-- ======== Section 2: LP ======== -->
  <section class="section-lp">
    <div class="lp-content">
      <div class="lp-left">
        <h1 class="lp-headline reveal">本音を<span class="quote">"安心"</span>して語り合える</h1>
        <p class="lp-subhead reveal reveal-delay-1">経営者限定SNS</p>

        <div class="lp-form reveal reveal-delay-2">
          <div class="email-form">
            <input type="email" class="email-input" placeholder="Mail address">
            <button type="button" class="email-submit">事前登録</button>
          </div>
          <p class="form-note">※ 登録した方から<span class="highlight">優先的</span>にご案内します</p>
        </div>
      </div>

      <div class="lp-right reveal reveal-delay-3">
        <div class="app-mockups">
          <img src="app-mockups.png" alt="Rep アプリ画面">
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-links">
        <a href="#" class="footer-link">プライバシーポリシー</a>
        <a href="#" class="footer-link">利用規約</a>
        <a href="#" class="footer-link">お問い合わせ</a>
      </div>
      <p class="copyright">© 2025 Garo Inc.</p>
    </footer>
  </section>

  <script>
    // Remaining count and star position on arc
    const countEl = document.getElementById('remainingCount');
    const wrapperEl = document.querySelector('.counter-number-wrapper');
    const arcWrapper = document.getElementById('arcWrapper');
    const arcStar = document.getElementById('arcStar');
    const arcGlow = document.getElementById('arcGlow');
    const arcGlowTrail = document.getElementById('arcGlowTrail');
    const arcGlowOuter = document.getElementById('arcGlowOuter');
    const arcGlowWide = document.getElementById('arcGlowWide');
    const arcGlowHaze = document.getElementById('arcGlowHaze');
    const maxCount = 1000;
    let currentCount = 1000;

    function updateStarPosition(count) {
      const progress = count / maxCount;

      // Get arc's actual position from DOM
      const arcRect = arcWrapper.getBoundingClientRect();
      const centerX = arcRect.left + arcRect.width / 2;
      const centerY = arcRect.top + arcRect.height / 2;
      const radius = arcRect.width / 2;
      const vw = window.innerWidth;

      // Adjust edge positions based on screen size
      // Smaller screens have proportionally wider arcs, so edges are closer to viewport edge
      let rightEdgePercent, leftEdgePercent;
      if (vw <= 480) {
        rightEdgePercent = 0.95;
        leftEdgePercent = 0.05;
      } else if (vw <= 768) {
        rightEdgePercent = 0.92;
        leftEdgePercent = 0.08;
      } else {
        rightEdgePercent = 0.88;
        leftEdgePercent = 0.12;
      }

      // Star X position: from right edge (progress=1) to left edge (progress=0)
      const rightEdgeX = vw * rightEdgePercent;
      const leftEdgeX = vw * leftEdgePercent;
      const starX = rightEdgeX - (1 - progress) * (rightEdgeX - leftEdgeX);

      // Calculate Y position on the arc circle at this X
      // Circle formula: (x - cx)² + (y - cy)² = r²
      // Solve for y: y = cy - sqrt(r² - (x - cx)²)
      const dx = starX - centerX;
      const dy = Math.sqrt(Math.max(0, radius * radius - dx * dx));
      const starY = centerY - dy;  // minus because we want top of circle

      // Position star
      arcStar.style.left = starX + 'px';
      arcStar.style.top = starY + 'px';

      // Hide star if scrolled past first section
      const sectionRect = document.querySelector('.section-teaser').getBoundingClientRect();
      arcStar.style.opacity = sectionRect.bottom > 100 ? '1' : '0';

      // Glow mask angle
      const glowAngle = -55 + (1 - progress) * -70;
      const angle = glowAngle + 'deg';
      arcGlow.style.setProperty('--glow-angle', angle);
      arcGlowTrail.style.setProperty('--glow-angle', angle);
      arcGlowOuter.style.setProperty('--glow-angle', angle);
      arcGlowWide.style.setProperty('--glow-angle', angle);
      arcGlowHaze.style.setProperty('--glow-angle', angle);
    }

    function updateCount(count) {
      currentCount = count;
      countEl.textContent = count;
      countEl.setAttribute('data-number', count);
      wrapperEl.setAttribute('data-number', count);
      updateStarPosition(count);
    }

    // Initial update after page load (with small delay for layout)
    window.addEventListener('load', () => {
      setTimeout(() => updateCount(1000), 50);
    });

    // Update on resize with debounce
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        updateStarPosition(currentCount);
      }, 100);
    });

    // Also update on orientation change
    window.addEventListener('orientationchange', () => {
      setTimeout(() => updateStarPosition(currentCount), 200);
    });

    // Update star on scroll (for fixed positioning)
    window.addEventListener('scroll', () => {
      updateStarPosition(currentCount);
    }, { passive: true });


    // Demo: Uncomment to see star animation
    // setInterval(() => {
    //   currentCount = Math.max(0, currentCount - 10);
    //   updateCount(currentCount);
    //   if (currentCount <= 0) currentCount = 1000;
    // }, 100);

    // Form logic
    const emailStep = document.getElementById('emailStep');
    const questionnaireStep = document.getElementById('questionnaireStep');
    const thankYouStep = document.getElementById('thankYouStep');
    const emailInput = document.getElementById('emailInput');
    const emailSubmit = document.getElementById('emailSubmit');
    const formError = document.getElementById('formError');
    const questionnaireForm = document.getElementById('questionnaireForm');
    const skipBtn = document.getElementById('skipBtn');

    let userEmail = '';

    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    emailSubmit.addEventListener('click', () => {
      const email = emailInput.value.trim();
      if (!email || !isValidEmail(email)) {
        formError.classList.add('visible');
        return;
      }
      formError.classList.remove('visible');
      userEmail = email;
      emailStep.style.display = 'none';
      questionnaireStep.classList.add('visible');
    });

    emailInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') { e.preventDefault(); emailSubmit.click(); }
    });

    emailInput.addEventListener('input', () => {
      formError.classList.remove('visible');
    });

    questionnaireForm.addEventListener('submit', (e) => {
      e.preventDefault();
      questionnaireStep.classList.remove('visible');
      questionnaireStep.style.display = 'none';
      thankYouStep.classList.add('visible');
    });

    skipBtn.addEventListener('click', () => {
      questionnaireStep.classList.remove('visible');
      questionnaireStep.style.display = 'none';
      thankYouStep.classList.add('visible');
    });

    // Scroll-triggered reveal
    const revealElements = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.15 });

    revealElements.forEach(el => observer.observe(el));
  </script>

  <!-- Supabase Client & Registration -->
  <script src="js/supabase-client.js"></script>
  <script src="js/registration.js"></script>
  <script>
    // Initialize Supabase and load count on page load
    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize Supabase client
      const client = window.getSupabaseClient();
      if (!client) {
        console.warn('[App] Supabase not configured, using demo mode');
        return;
      }

      // Load initial count from database
      try {
        await window.registrationAPI.initCount();
      } catch (e) {
        console.warn('[App] Using demo count');
      }
    });

    // Override email submit to use Supabase
    emailSubmit.removeEventListener('click', emailSubmit._handler);
    emailSubmit._handler = async () => {
      const email = emailInput.value.trim();
      if (!email || !isValidEmail(email)) {
        formError.textContent = '有効なメールアドレスを入力してください';
        formError.classList.add('visible');
        return;
      }
      formError.classList.remove('visible');

      // Disable button during submission
      emailSubmit.disabled = true;
      emailSubmit.textContent = '送信中...';

      try {
        const result = await window.registrationAPI.register(email);

        if (!result.success) {
          if (result.error === 'duplicate_email') {
            formError.textContent = 'このメールアドレスは既に登録されています';
          } else if (result.error === 'registration_closed') {
            formError.textContent = '申し訳ございません。受付は終了しました';
          } else {
            formError.textContent = '登録に失敗しました。もう一度お試しください';
          }
          formError.classList.add('visible');
          emailSubmit.disabled = false;
          emailSubmit.textContent = '事前登録';
          return;
        }

        // Store registration ID for questionnaire
        window.registrationAPI.setCurrentRegistrationId(result.id);
        userEmail = email;

        // Show questionnaire
        emailStep.style.display = 'none';
        questionnaireStep.classList.add('visible');

      } catch (e) {
        console.error('[App] Registration error:', e);
        formError.textContent = '登録に失敗しました。もう一度お試しください';
        formError.classList.add('visible');
      } finally {
        emailSubmit.disabled = false;
        emailSubmit.textContent = '事前登録';
      }
    };
    emailSubmit.addEventListener('click', emailSubmit._handler);

    // Override questionnaire submit
    questionnaireForm.removeEventListener('submit', questionnaireForm._handler);
    questionnaireForm._handler = async (e) => {
      e.preventDefault();

      const registrationId = window.registrationAPI.getCurrentRegistrationId();
      if (!registrationId) {
        // Fallback: just show thank you
        questionnaireStep.classList.remove('visible');
        questionnaireStep.style.display = 'none';
        thankYouStep.classList.add('visible');
        return;
      }

      const name = document.getElementById('nameInput').value.trim();
      const company = document.getElementById('companyInput').value.trim();
      const position = document.getElementById('positionInput').value.trim();

      try {
        await window.registrationAPI.updateQuestionnaire(registrationId, name, company, position);
      } catch (e) {
        console.error('[App] Questionnaire update error:', e);
        // Continue to thank you even if update fails
      }

      questionnaireStep.classList.remove('visible');
      questionnaireStep.style.display = 'none';
      thankYouStep.classList.add('visible');
    };
    questionnaireForm.addEventListener('submit', questionnaireForm._handler);
  </script>

  </div><!-- End main-content -->

  <!-- Splash Animation Script -->
  <script>
    (function() {
      var splash = document.getElementById('splashScreen');
      var mainContent = document.getElementById('mainContent');
      var pathG = document.getElementById('splashPathG');
      var pathY = document.getElementById('splashPathY');
      var trailG = document.getElementById('splashTrailG');
      var trailY = document.getElementById('splashTrailY');
      var pointG = document.getElementById('splashPointG');
      var pointY = document.getElementById('splashPointY');

      var lenG = pathG.getTotalLength();
      var lenY = pathY.getTotalLength();

      trailG.style.strokeDasharray = lenG;
      trailG.style.strokeDashoffset = lenG;
      trailY.style.strokeDasharray = lenY;
      trailY.style.strokeDashoffset = lenY;

      var gDelay = 800;
      var gDuration = 4000;
      var yDelay = 1200;
      var yDuration = 3500;

      var startTime = null;
      var animationId = null;
      var skipped = false;

      function ease(t) {
        return 1 - Math.pow(1 - t, 4);
      }

      // スキップ処理
      function skipAnimation() {
        if (skipped) return;
        skipped = true;

        // アニメーションを停止
        if (animationId) {
          cancelAnimationFrame(animationId);
        }

        // 発光点を非表示
        pointG.style.display = 'none';
        pointY.style.display = 'none';

        // すぐにフェードアウト
        splash.style.transition = 'opacity 0.4s ease-out';
        splash.style.opacity = '0';
        mainContent.classList.add('visible');

        setTimeout(function() {
          splash.style.display = 'none';
        }, 400);

        // イベントリスナーを削除
        removeSkipListeners();
      }

      // スキップ用イベントリスナー
      function onWheel(e) {
        skipAnimation();
      }
      function onTouchMove(e) {
        skipAnimation();
      }
      function onKeyDown(e) {
        if (e.key === 'Escape' || e.key === ' ' || e.key === 'Enter') {
          skipAnimation();
        }
      }

      function addSkipListeners() {
        window.addEventListener('wheel', onWheel, { passive: true });
        window.addEventListener('touchmove', onTouchMove, { passive: true });
        window.addEventListener('keydown', onKeyDown);
        splash.addEventListener('click', skipAnimation);
      }

      function removeSkipListeners() {
        window.removeEventListener('wheel', onWheel);
        window.removeEventListener('touchmove', onTouchMove);
        window.removeEventListener('keydown', onKeyDown);
        splash.removeEventListener('click', skipAnimation);
      }

      addSkipListeners();

      function animate(time) {
        if (skipped) return;

        if (!startTime) startTime = time;
        var elapsed = time - startTime;

        var gT = elapsed - gDelay;
        if (gT > 0) {
          var gProgress = Math.min(gT / gDuration, 1);
          var gEased = ease(gProgress);
          trailG.style.strokeDashoffset = lenG * (1 - gEased);
          var gPoint = pathG.getPointAtLength(lenG * gEased);
          pointG.style.display = 'block';
          pointG.setAttribute('transform', 'translate(' + gPoint.x + ',' + gPoint.y + ')');
        }

        var yT = elapsed - yDelay;
        if (yT > 0) {
          var yProgress = Math.min(yT / yDuration, 1);
          var yEased = ease(yProgress);
          trailY.style.strokeDashoffset = lenY * (1 - yEased);
          var yPoint = pathY.getPointAtLength(lenY * yEased);
          pointY.style.display = 'block';
          pointY.setAttribute('transform', 'translate(' + yPoint.x + ',' + yPoint.y + ')');
        }

        var maxTime = Math.max(gDelay + gDuration, yDelay + yDuration);
        if (elapsed < maxTime) {
          animationId = requestAnimationFrame(animate);
        } else {
          removeSkipListeners();

          // 発光点をフェードアウト
          setTimeout(function() {
            pointG.style.transition = 'opacity 0.3s ease-out';
            pointY.style.transition = 'opacity 0.3s ease-out';
            pointG.style.opacity = '0';
            pointY.style.opacity = '0';

            setTimeout(function() {
              pointG.style.display = 'none';
              pointY.style.display = 'none';
              splash.classList.add('flash-on');
            }, 300);
          }, 100);

          // ロゴが発光して消える
          setTimeout(function() {
            splash.classList.add('glow-out');
          }, 1200);

          // メインコンテンツ表示
          setTimeout(function() {
            mainContent.classList.add('visible');
          }, 2800);

          // スプラッシュ削除
          setTimeout(function() {
            splash.classList.add('fade-out');
          }, 3000);

          setTimeout(function() {
            splash.style.display = 'none';
          }, 3500);
        }
      }

      animationId = requestAnimationFrame(animate);
    })();
  </script>

</body>
</html>
